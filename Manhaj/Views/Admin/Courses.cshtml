@model List<Manhaj.Models.Course>
@{
    ViewData["Title"] = "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª";
    Layout = "_DashboardLayout";
}

<section class="section" style="background: var(--background-gray); min-height: 80vh; padding: 40px 20px;">
    <div style="max-width: 1200px; margin: 0 auto;">
        
        @if (TempData["SuccessMessage"] != null)
        {
            <div style="background: #d4edda; color: #155724; padding: 15px; border-radius: 8px; margin-bottom: 20px; text-align: center;">
                @TempData["SuccessMessage"]
            </div>
        }

        <div class="section-header">
            <h2 class="section-title">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª</h2>
            <p class="section-subtitle">Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ©</p>
        </div>

        <div class="dashboard-card">
            @if (Model.Any())
            {
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: var(--background-gray); font-weight: 600;">
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th>
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ù…Ø¹Ù„Ù…</th>
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ù…Ø³ØªÙˆÙ‰</th>
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ø³Ø¹Ø±</th>
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ø·Ù„Ø§Ø¨</th>
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª</th>
                                <th style="padding: 12px; text-align: right;">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</th>
                                <th style="padding: 12px; text-align: right;">Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var course in Model)
                            {
                                <tr style="border-bottom: 1px solid #e0e0e0;">
                                    <td style="padding: 12px;">
                                        <strong>@course.Title</strong>
                                    </td>
                                    <td style="padding: 12px;">@(course.Teacher?.FirstName ?? "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ") @(course.Teacher?.LastName ?? "")</td>
                                    <td style="padding: 12px;">@course.level</td>
                                    <td style="padding: 12px;">@course.Price.ToString("N0") Ø¬Ù†ÙŠÙ‡</td>
                                    <td style="padding: 12px; text-align: center;">@course.Course_Registrations.Count</td>
                                    <td style="padding: 12px; text-align: center;">@course.Lectures.Count</td>
                                    <td style="padding: 12px;">@course.Creation_Date.ToString("yyyy-MM-dd")</td>
                                    <td style="padding: 12px;">
                                        <form asp-action="DeleteCourse" asp-route-id="@course.Id" method="post" onsubmit="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆØ±Ø©ØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª ÙˆØ§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø§.');">
                                            <button type="submit" class="btn btn-outline" style="color: #dc3545; border-color: #dc3545; padding: 5px 10px; font-size: 14px;">
                                                ğŸ—‘ï¸ Ø­Ø°Ù
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            }
            else
            {
                <p style="text-align: center; color: var(--text-secondary); padding: 40px;">
                    Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯ÙˆØ±Ø§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹
                </p>
            }
        </div>
    </div>
</section>
