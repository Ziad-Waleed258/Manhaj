@{
    ViewData["Title"] = "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†";
    Layout = "_DashboardLayout";
    var students = ViewBag.Students as List<Manhaj.Models.Student>;
    var teachers = ViewBag.Teachers as List<Manhaj.Models.Teacher>;
}

<section class="section" style="background: var(--background-gray); min-height: 80vh; padding: 40px 20px;">
    <div style="max-width: 1200px; margin: 0 auto;">
        <div class="section-header">
            <h2 class="section-title">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>
            <p class="section-subtitle">Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆØ§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</p>
        </div>

        <div class="dashboard-card" style="margin-bottom: 40px;">
            <h3 class="section-title" style="font-size: 24px; margin-bottom: 20px; color: var(--primary-color);">Ø§Ù„Ù…Ø¹Ù„Ù…ÙˆÙ† (@teachers.Count)</h3>
            
            @if (teachers.Any())
            {
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: var(--background-gray); font-weight: 600;">
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ø§Ø³Ù…</th>
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</th>
                                <th style="padding: 12px; text-align: right;">Ø§Ù„ØªØ®ØµØµ</th>
                                <th style="padding: 12px; text-align: right;">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</th>
                                <th style="padding: 12px; text-align: right;">Ø¹Ø¯Ø¯ Ø§Ù„Ø¯ÙˆØ±Ø§Øª</th>
                                <th style="padding: 12px; text-align: right;">Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var teacher in teachers)
                            {
                                <tr style="border-bottom: 1px solid #e0e0e0;">
                                    <td style="padding: 12px;">@teacher.FirstName @teacher.LastName</td>
                                    <td style="padding: 12px;">@teacher.Email</td>
                                    <td style="padding: 12px;">@teacher.Specialization</td>
                                    <td style="padding: 12px;">@teacher.Phone</td>
                                    <td style="padding: 12px;">@teacher.Courses?.Count</td>
                                    <td style="padding: 12px;">
                                        <form asp-action="DeleteTeacher" asp-route-id="@teacher.Id" method="post" onsubmit="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¹Ù„Ù…ØŸ');" style="display:inline;">
                                            <button type="submit" class="btn btn-outline" style="color: #dc3545; border-color: #dc3545; padding: 5px 10px; font-size: 12px;">
                                                ğŸ—‘ï¸ Ø­Ø°Ù
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            }
            else
            {
                <p style="text-align: center; color: var(--text-secondary);">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø¹Ù„Ù…ÙˆÙ† Ù…Ø³Ø¬Ù„ÙˆÙ†</p>
            }
        </div>

        <div class="dashboard-card">
            <h3 class="section-title" style="font-size: 24px; margin-bottom: 20px; color: var(--secondary-color);">Ø§Ù„Ø·Ù„Ø§Ø¨ (@students.Count)</h3>
            
            @if (students.Any())
            {
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: var(--background-gray); font-weight: 600;">
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ø§Ø³Ù…</th>
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</th>
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</th>
                                <th style="padding: 12px; text-align: right;">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</th>
                                <th style="padding: 12px; text-align: right;">Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var student in students)
                            {
                                <tr style="border-bottom: 1px solid #e0e0e0;">
                                    <td style="padding: 12px;">@student.FirstName @student.LastName</td>
                                    <td style="padding: 12px;">@student.Email</td>
                                    <td style="padding: 12px;">@student.Level</td>
                                    <td style="padding: 12px;">@student.Phone</td>
                                    <td style="padding: 12px;">
                                        <form asp-action="DeleteStudent" asp-route-id="@student.Id" method="post" onsubmit="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø·Ø§Ù„Ø¨ØŸ');" style="display:inline;">
                                            <button type="submit" class="btn btn-outline" style="color: #dc3545; border-color: #dc3545; padding: 5px 10px; font-size: 12px;">
                                                ğŸ—‘ï¸ Ø­Ø°Ù
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            }
            else
            {
                <p style="text-align: center; color: var(--text-secondary);">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø§Ø¨ Ù…Ø³Ø¬Ù„ÙˆÙ†</p>
            }
        </div>
    </div>
</section>
