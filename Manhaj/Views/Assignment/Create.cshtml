@{
    ViewData["Title"] = "إضافة واجب - " + ViewBag.LectureTitle;
}

<section class="section" style="background: var(--background-gray); min-height: 80vh; padding: 40px 20px;">
    <div style="max-width: 800px; margin: 0 auto;">
        <div class="dashboard-card">
            <h2 class="section-title" style="text-align: center; margin-bottom: 10px;">إضافة واجب جديد</h2>
            <p style="text-align: center; color: var(--text-secondary); margin-bottom: 30px;">@ViewBag.LectureTitle</p>
            
            <form asp-action="Create" method="post">
                <input type="hidden" name="lectureID" value="@ViewBag.LectureId" />
                
                @if (TempData["ErrorMessage"] != null)
                {
                    <div style="background: #f8d7da; color: #721c24; padding: 15px; border-radius: 8px; margin-bottom: 20px; text-align: center;">
                        @TempData["ErrorMessage"]
                    </div>
                }

                <div asp-validation-summary="All" class="text-danger" style="margin-bottom: 20px;"></div>
                
                <div class="form-group">
                    <label class="form-label">عنوان الواجب</label>
                    <input type="text" name="Title" class="form-input" placeholder="مثال: حل تمارين الدرس الأول" required />
                </div>

                <div class="form-group">
                    <label class="form-label">وصف الواجب</label>
                    <textarea name="Description" class="form-textarea" placeholder="اكتب تفاصيل الواجب والمطلوب من الطالب..." rows="4" required></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">رابط مرفق (اختياري)</label>
                    <input type="url" name="MediaUrl" class="form-input" placeholder="رابط ملف أو فيديو توضيحي..." dir="ltr" style="text-align: left;" />
                </div>

                <div class="form-group">
                    <label class="form-label">موعد التسليم</label>
                    <input type="datetime-local" name="Deadline" class="form-input" required />
                </div>

                <div class="form-group">
                    <label class="form-label">ملاحظات إضافية</label>
                    <textarea name="Comment" class="form-textarea" rows="2"></textarea>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px; font-size: 18px;">
                    إنشاء الواجب
                </button>

                <div style="text-align: center; margin-top: 20px;">
                    <a href="javascript:history.back()" style="color: var(--text-secondary);">إلغاء</a>
                </div>
            </form>
        </div>
    </div>
</section>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
